<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BÁSICOS JAVA SCRIPT</title>
  </head>

  <body>
    <script src="Person.js"></script>

    <script>
      function addNoArrow(a, b) {
        return a + b;
      }

      //Convertir función flecha

      const add = (a, b) => a + b;

      //Función flecha sin parámetros

      const numRandom = () => {
        const numero = Math.ceil(Math.random() * 100);
        console.log(numero);
      };

      numRandom();

      //Creamos una instancia de la clase Person

      const persona = new Person("Marta");
      console.log(persona);

      persona.greet(); //Llamamos a la función greet

      //Funcion flecha dentro de un loop

      const printNumbers = (arrayNumeros) => {
        let numero;

        for (let i = 0; i < arrayNumeros.length; i++) {
          numero = arrayNumeros[i];
          console.log(numero);
        }
      };

      printNumbers([2, 4, 5]);

      //setTimeout --> Ejecutar función despues de "x" segundos.

      console.log("inicio");
      setTimeout(() => {
        console.log("Ejecuntando un setTimeout, se ejecuta una sola vez");
      }, 3000);
      console.log("fin");

      /* setInterval(() => {
        console.log("Ejecutando setInterval, se ejecuta indefinidamente cada cierto intervalo de tiempo");
        console.log(new Date().toLocaleTimeString());
        }, 1000) */

      //EJERCICIOS OPERADOR TERNARIO

      const potConduir = (edat) => {
        edat >= 18
          ? console.log("La persona pot conduir")
          : console.log("La persona NO pot conduir");
      };

      potConduir(19);

      const numBigger = (num1, num2) => {
        num1 > num2
          ? console.log("Num 1 és més gran")
          : console.log("Num 2 és més gran");
      };

      numBigger(1, 4);

      const enlacesOperadorTernario = (numero) => {
        numero > 0
          ? console.log("El número es positivo")
          : numero < 0
          ? console.log("El número és negativo")
          : console.log("El número és 0");
      };

      enlacesOperadorTernario(-4);

      const trobarMaxim = (a, b, c) => {
        a > b && a > c
          ? console.log(`${a} és el valor màxim`)
          : b > a && b > c
          ? console.log(`${b} és el valor màxim`)
          : c > a && c > b
          ? console.log(`${c} és el valor màxim`)
          : console.log("Hi ha dos números iguals");
      };

      trobarMaxim(6, 4, 2);

      const parOImpar = (arrayNumeros) => {
        let numero;

        for (let i = 0; i < arrayNumeros.length; i++) {
          numero = arrayNumeros[i];
          numero % 2 === 0
            ? console.log(`El número ${numero} és par`)
            : console.log(`El número ${numero} és impar`);
        }
      };

      parOImpar([4, 8, 9]);

      //CALLBACKS

      //EJERCICIO 1

      const procesar = (nombre, imprimirDoble) => {
        //Funció principal

        imprimirDoble(nombre); //Crida funció callback pasant el nombre com a paràmetre.
      };

      const imprimirDoble = (nombre) => {
        //Funció Callback
        console.log(`El doble de ${nombre} és ${nombre * 2}`);
      };

      procesar(5, imprimirDoble); //Cridar funció principal

      //EJERCICIO 2

      const calculadora = (num1, num2, callback) => {
        callback(num1, num2);
      };

      const sumaNum = (num1, num2) => {
        console.log(`La suma total és ${num1 + num2}`);
      };

      calculadora(5, 8, sumaNum);

      //EJERCICIO 3

      const esperarISaludar = (nom, saludar) => {
        setTimeout(() => {
          saludar(nom); //Invoca la función callback con el nombre despues de 2 segundos
        }, 2000);
      };

      const saludar = (nom) => {
        console.log(`Hola ${nom}`);
      };

      esperarISaludar("Marta", saludar);

      //EJERCICIO 4

      const procesarElements = (array, callback) => {
        let elemento;

        for (let i = 0; i < array.length; i++) {
          callback(array[i]); //Llama a la función callback con cada elemento del array.
        }
      };

      const callback = (elemento) => {
        console.log(`Procesando ${elemento}`);
      };

      procesarElements([1, 2, 3], callback);

      //EJERCICIO 5

      const procesarCadena = (cadena, functionCallback) => {
        let cadenaMajuscules;

        cadenaMajuscules = cadena.toUpperCase();
        functionCallback(cadenaMajuscules);
      };

      const functionCallback = (cadenaMajuscules) => {
        console.log(`La cadena en majúscules es: ${cadenaMajuscules}`);
      };

      procesarCadena("Hola em dic Marta", functionCallback);
      
    </script>
  </body>
</html>
